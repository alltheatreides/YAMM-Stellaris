ms_adjust_basic_01 = {
	class = "rl_standard_stars"
	
	flags = { ms_forge_temp }
	
	asteroids_distance = 95
	
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	
	change_orbit = 30
	
	planet = {
		count = 2
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
	}
	
	change_orbit = 25
	
	planet = {
		count = { min = 1 max = 4 }
		class = random_asteroid
		orbit_distance = 0
		orbit_angle = { min = 90 max = 270 }
	}
	
	planet = {
		count = { min = 2 max = 5 }
		orbit_distance = 25
		orbit_angle = { min = 90 max = 270 }
		
		change_orbit = @base_moon_distance
		
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
}

ms_adjust_basic_02 = {
	class = "rl_standard_stars"
	
	flags = { ms_forge_temp }
	
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	
	change_orbit = 45
	
	planet = {
		count = { min = 0 max = 1 }
		orbit_distance = 10
		orbit_angle = { min = 90 max = 270 }
	}
	
	planet = {
		count = { min = 1 max = 2 }
		orbit_distance = 60
		class = pc_gas_giant
		orbit_angle = { min = 90 max = 270 }
		size = 25
		
		change_orbit = @base_moon_distance
		
		moon = {
			count = { min = 1 max = 4 }
			size = { min = 8 max = 20 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 6
		}
	}
	
	change_orbit = 20
	
	planet = {
		count = { min = 0 max = 2 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
	}
}

ms_special_01 = {
	class = "rl_standard_stars"

	flags = { ms_forge_temp }
	
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	
	change_orbit = 20
	
	planet = {
		orbit_distance = 20
		count = { min = 0 max = 3 }
	}
	
	change_orbit = 20
	
	planet = {
		count = 1
		orbit_distance = 0
		class = "rl_habitable_normal"
		orbit_angle = { min = 90 max = 270 }
		size = { min = 12 max = 25 }
		#tile_blockers = none
		
		init_effect = {
			prevent_anomaly = yes
			random_list = {
				# Industrial Civilization
				50 = {
					create_species = {
						name = random
						class = random
						portrait = random
						homeworld = THIS
						traits = {
							trait = random_traits
						}
					}
					create_country = {
						name = random
						authority = random
						civics = {
							civic = civic_increasing_urbanization
							civic = civic_atmospheric_pollution
						}
						species = last_created
						ethos = random
						flag = {
							icon = {
								category = "spherical"
								file = "flag_spherical_22.dds"
							}
							background= {
								category = "backgrounds"
								file = "new_dawn.dds"
							}
							colors={
								"turquoise"
								"green"
								"null"
								"null"
							}
						}
						type = primitive
					}
					last_created_country = {
						set_graphical_culture = industrial_01
						random_list = {
							25 = {
								set_country_flag = industrial_age 
								set_primitive_age = industrial_age
								change_country_flag = {
									icon = {
										category = "special"
										file = "primitive.dds"
									}
									background= {
										category = "backgrounds"
										file = "new_dawn.dds"
									}
									colors={
										"beige"
										"yellow"
										"null"
										"null"
									}
								}
							}
							25 = { 
								set_country_flag = machine_age
								set_primitive_age = machine_age
								change_country_flag = {
									icon = {
										category = "special"
										file = "primitive.dds"
									}
									background= {
										category = "backgrounds"
										file = "new_dawn.dds"
									}
									colors={
										"yellow"
										"orange"
										"null"
										"null"
									}
								}
							}
							25 = { 
								set_country_flag = atomic_age 
								set_primitive_age = atomic_age
								change_country_flag = {
									icon = {
										category = "special"
										file = "primitive.dds"
									}
									background= {
										category = "backgrounds"
										file = "new_dawn.dds"
									}
									colors={
										"beige"
										"brown"
										"null"
										"null"
									}
								}
							}
							25 = { 
								set_country_flag = early_space_age 
								set_primitive_age = early_space_age
								change_country_flag = {
									icon = {
										category = "special"
										file = "primitive.dds"
									}
									background= {
										category = "backgrounds"
										file = "new_dawn.dds"
									}
									colors={
										"grey"
										"dark_grey"
										"null"
										"null"
									}
								}
							}
						}
					}
					create_colony = {
						owner = last_created_country
						species = last_created
						ethos = owner
					}
					random_tile = {
						limit = { has_building = "building_colony_shelter" }
						remove_building = yes
					}
					every_tile = {
						limit = {
							has_blocker = yes
						}
						remove_blocker = yes
					}
					while = {
						count = 3			
						random_tile = {
							limit = {
								has_blocker = no
								has_building = no
								has_grown_pop = no
							}
							set_blocker = tb_decrepit_dwellings
						}
						random_tile = {
							limit = {
								has_blocker = no
								has_building = no
								has_grown_pop = no
							}
							set_blocker = tb_failing_infrastructure		
						}				
					}					
					while = {
						count = 5
						random_tile = {
							limit = {
								has_blocker = no
								has_grown_pop = no
								has_growing_pop = no
							}
							create_pop = {
								species = last_created
							}
						}	
					}
					if = {
						limit = {
							last_created_country = {
								OR = {
									has_country_flag = machine_age
									has_country_flag = atomic_age
									has_country_flag = early_space_age
								}
							}
						}
						random_tile = {
							limit = {
								has_blocker = no
								has_grown_pop = no
								has_growing_pop = no
							}
							create_pop = {
								species = last_created
							}
						}						
					}	
					if = {
						limit = {
							last_created_country = {
								OR = {
									has_country_flag = machine_age
									has_country_flag = atomic_age
									has_country_flag = early_space_age
								}
							}
						}
						random_tile = {
							limit = { 
								has_blocker = no 
								has_building = no 
								has_grown_pop = yes
							}
							set_building = "building_primitive_factory"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}						
						}						
					}					
					if = {
						limit = {
							last_created_country = {
								has_country_flag = early_space_age
							}
						}
						random_tile = {
							limit = {
								has_blocker = no
								has_grown_pop = no
								has_growing_pop = no
							}
							create_pop = {
								species = last_created
							}
						}						
					}	
					if = {
						limit = {
							last_created_country = {
								has_country_flag = early_space_age
							}
						}
						random_tile = {
							limit = { 
								has_blocker = no 
								has_building = no 
								has_grown_pop = yes
							}
							set_building = "building_primitive_factory"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}						
						}						
					}						
					while = {
						count = 2
						random_tile = {
							limit = { 
								has_blocker = no 
								has_building = no 
								has_grown_pop = yes
							}
							set_building = "building_primitive_factory"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}						
						}					
					}
					while = {
						count = 4
						random_tile = {
							limit = { 
								has_blocker = no 
								has_building = no 
								has_grown_pop = yes
							}
							set_building = "building_primitive_farm"
							add_resource = {
								resource = food
								amount = 1
								replace = yes
							}						
						}					
					}
					last_created_country = {
						if = {
							limit = { has_country_flag = industrial_age }
							PREV = {
								while = {
									count = 4
									create_army = {
										name = "NAME_Industrial_Army"
										owner = last_created
										species = last_created
										type = "industrial_army"
									}
								}
							}
							break = yes
						}
						if = {
							limit = { has_country_flag = machine_age }
							PREV = {
								while = {
									count = 5
									create_army = {
										name = "NAME_Industrial_Army"
										owner = last_created
										species = last_created
										type = "industrial_army"
									}
								}
							}
							break = yes
						}
						if = {
							limit = { has_country_flag = atomic_age }
							PREV = {
								while = {
									count = 4
									create_army = {
										name = "NAME_Post-Atomic_Army"
										owner = last_created
										species = last_created
										type = "postatomic_army"
									}
								}
							}
							break = yes
						}
						if = {
							limit = { has_country_flag = early_space_age }
							PREV = {
								while = {
									count = 5
									create_army = {
										name = "NAME_Post-Atomic_Army"
										owner = last_created
										species = last_created
										type = "postatomic_army"
									}
								}
								create_fleet = {
									name = "NAME_Space_Station" 
									effect = {
										set_owner = last_created_country
										create_ship = {
											name = "NAME_Space_Station"
											design = "NAME_Space_Station"
										}
										set_location = PREV
									}
								}
							}
							break = yes
						}
					}
				}
				# Medieval Civilization
				50 = {
					create_species = {
						name = random
						class = random
						portrait = random
						homeworld = THIS
						traits = {
							trait = random_traits
						}
					}
					create_country = {
						name = random
						authority = random
						civics = {
							civic = civic_landed_nobility
							civic = civic_flat_world_theory
						}
						species = last_created
						ethos = random
						flag = {
							icon = {
								category = "special"
								file = "primitive.dds"
							}
							background= {
								category = "backgrounds"
								file = "new_dawn.dds"
							}
							colors={
								"turquoise"
								"green"
								"null"
								"null"
							}
						}
						type = primitive
					}
					last_created_country = {
						set_graphical_culture = preindustrial_01
						random_list = {
							20 = {
								set_country_flag = stone_age 
								set_primitive_age = stone_age
								change_government = {
									authority = random
									civics = {
										civic = civic_secret_of_fire
										civic = civic_the_wheel
									}
								}
							}
							20 = {
								set_country_flag = bronze_age 
								set_primitive_age = bronze_age
								change_government = {
									authority = random
									civics = {
										civic = civic_secret_of_fire
										civic = civic_the_wheel
									}
								}
								change_country_flag = {
									icon = {
										category = "special"
										file = "primitive.dds"
									}
									background= {
										category = "backgrounds"
										file = "new_dawn.dds"
									}
									colors={
										"green"
										"dark_green"
										"null"
										"null"
									}
								}
							}
							20 = {
								set_country_flag = iron_age 
								set_primitive_age = iron_age
								change_country_flag = {
									icon = {
										category = "special"
										file = "primitive.dds"
									}
									background= {
										category = "backgrounds"
										file = "new_dawn.dds"
									}
									colors={
										"purple"
										"dark_purple"
										"null"
										"null"
									}
								}
							}
							20 = {
								set_country_flag = late_medieval_age 
								set_primitive_age = late_medieval_age
								change_country_flag = {
									icon = {
										category = "special"
										file = "primitive.dds"
									}
									background= {
										category = "backgrounds"
										file = "new_dawn.dds"
									}
									colors={
										"light_blue"
										"blue"
										"null"
										"null"
									}
								}
							}
							20 = {
								set_country_flag = renaissance_age 
								set_primitive_age = renaissance_age
								change_country_flag = {
									icon = {
										category = "special"
										file = "primitive.dds"
									}
									background= {
										category = "backgrounds"
										file = "new_dawn.dds"
									}
									colors={
										"pink"
										"burgundy"
										"null"
										"null"
									}
								}
							}
							20 = {
								set_country_flag = steam_age 
								set_primitive_age = steam_age
								change_country_flag = {
									icon = {
										category = "special"
										file = "primitive.dds"
									}
									background= {
										category = "backgrounds"
										file = "new_dawn.dds"
									}
									colors={
										"orange"
										"red"
										"null"
										"null"
									}
								}
							}
						}
					}
					create_colony = {
						owner = last_created_country
						species = last_created
						ethos = owner
					}
					random_tile = {
						limit = {
							has_blocker = no
							has_grown_pop = no
							has_growing_pop = no
						}
						create_pop = {
							species = last_created
						}
					}
					if = {
						limit = {
							last_created_country = {
								OR = {
									has_country_flag = steam_age
									has_country_flag = renaissance_age
								}
							}
						}
						random_tile = {
							limit = {
								has_blocker = no
								has_grown_pop = no
								has_growing_pop = no
							}
							create_pop = {
								species = last_created
							}
						}						
					}
					random_tile = {
						limit = { has_building = "building_colony_shelter" }
						remove_building = yes
					}					
					while = {
						count = 2
						random_tile = {
							limit = { 
								has_blocker = no 
								has_building = no 
								has_grown_pop = yes
							}
							set_building = "building_primitive_farm"										
							add_resource = {
								resource = food
								amount = 1
								replace = yes
							}
						}
					}
					if = {
						limit = {
							last_created_country = {
								has_country_flag = stone_age
							}
						}	
						every_tile = {
							limit = {
								has_building = "building_primitive_farm"
							}
							remove_building = yes
						}
					}
					if = {
						limit = {
							last_created_country = {
								OR = {
									has_country_flag = iron_age 
									has_country_flag = late_medieval_age 									
									has_country_flag = renaissance_age
									has_country_flag = steam_age
								}
							}
						}
						random_tile = {
							limit = {
								has_blocker = no
								has_grown_pop = no
								has_growing_pop = no
							}
							create_pop = {
								species = last_created
							}
						}						
						random_tile = {
							limit = { 
								has_blocker = no 
								has_building = no 
								has_grown_pop = yes
							}
							set_building = "building_primitive_farm"
							add_resource = {
								resource = food
								amount = 1
								replace = yes
							}
						}						
					}					
					if = {
						limit = {
							last_created_country = {
								OR = {
									has_country_flag = steam_age
									has_country_flag = renaissance_age
								}
							}
						}
						random_tile = {
							limit = { 
								has_blocker = no 
								has_building = no 
								has_grown_pop = yes
							}
							set_building = "building_primitive_farm"
							add_resource = {
								resource = food
								amount = 1
								replace = yes
							}
						}						
					}
					if = {
						limit = {
							last_created_country = {
								has_country_flag = steam_age
							}
						}
						random_tile = {
							limit = { 
								has_blocker = no 
								has_building = no 
								has_grown_pop = yes
							}
							set_building = "building_primitive_factory"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}						
						}						
					}					
					last_created_country = {
						if = {
							limit = { has_country_flag = stone_age }
							PREV = {
								create_army = {
									name = "NAME_Primitive_Army"
									owner = last_created
									species = last_created
									type = "primitive_army"
								}
							}
							break = yes
						}					
						if = {
							limit = { has_country_flag = bronze_age }
							PREV = {
								create_army = {
									name = "NAME_Primitive_Army"
									owner = last_created
									species = last_created
									type = "primitive_army"
								}
							}
							break = yes
						}
						if = {
							limit = { has_country_flag = iron_age }
							PREV = {
								while = {
									count = 2
									create_army = {
										name = "NAME_Primitive_Army"
										owner = last_created
										species = last_created
										type = "primitive_army"
									}
								}
							}
							break = yes
						}
						if = {
							limit = { has_country_flag = late_medieval_age }
							PREV = {
								while = {
									count = 3
									create_army = {
										name = "NAME_Primitive_Army"
										owner = last_created
										species = last_created
										type = "primitive_army"
									}
								}
							}
							break = yes
						}
						if = {
							limit = { has_country_flag = renaissance_age }
							PREV = {
								while = {
									count = 4
									create_army = {
										name = "NAME_Primitive_Army"
										owner = last_created
										species = last_created
										type = "primitive_army"
									}
								}
							}
							break = yes
						}
						if = {
							limit = { has_country_flag = steam_age }
							PREV = {
								while = {
									count = 3
									create_army = {
										name = "NAME_Industrial_Army"
										owner = last_created
										species = last_created
										type = "industrial_army"
									}
								}
							}
							break = yes
						}
					}
				}
			}
		}
		
		change_orbit = @base_moon_distance
		
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	
	planet = {
		orbit_distance = 20
		count = { min = 1 max = 4 }
		
		change_orbit = @base_moon_distance
		
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	
	planet = {
		orbit_distance = 20
		count = { min = 0 max = 2 }
	}
}

ms_special_02 = {
	class = "rl_standard_stars"

	flags = { ruined_dyson_system ms_forge_temp }
	
	planet = {
		class = star
		orbit_distance = 0

		init_effect = {
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 25
					angle = random
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 22
					angle = random
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 31
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 27
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 23
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 26
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 28
					angle = random
				}
			}
			create_ambient_object = {
				type = "small_debris_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 22
					angle = random
				}
			}


			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 35
					angle = 70
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 50
					angle = 100
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 65
					angle = 125
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 47
					angle = 100
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 51
					angle = 80
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 40
					angle = 127
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 55
					angle = 76
				}
			}
			create_ambient_object = {
				type = "small_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 50
					angle = 120
				}
			}



			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 35
					angle = 270
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 50
					angle = 300
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 65
					angle = 325
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 47
					angle = 300
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 51
					angle = 280
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 40
					angle = 327
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 55
					angle = 276
				}
			}
			create_ambient_object = {
				type = "small_debris_object"
				location = this
			}
			last_created_ambient_object = { 
				set_location = {
					target = prev
					distance = 50
					angle = 320
				}
			}
		}
	}

	change_orbit = 45

	planet = {
		class = rl_unhabitable_planets
		count = { min = 2 max = 4 }
		orbit_distance = 25
		orbit_angle = { min = 90 max = 270 }
	}	
	
	init_effect = {
		spawn_megastructure = { type = "dyson_sphere_ruined" }

		create_ambient_object = {
			type = "large_debris_object"
			location = solar_system
		}
		create_ambient_object = {
			type = "large_debris_object"
			location = solar_system
		}
		create_ambient_object = {
			type = "large_debris_object"
			location = solar_system
		}
		create_ambient_object = {
			type = "medium_debris_01_object"
			location = solar_system
		}
		create_ambient_object = {
			type = "medium_debris_02_object"
			location = solar_system
		}
		create_ambient_object = {
			type = "medium_debris_01_object"
			location = solar_system
		}
		create_ambient_object = {
			type = "medium_debris_02_object"
			location = solar_system
		}
		create_ambient_object = {
			type = "small_debris_object"
			location = solar_system
		}
	}
}